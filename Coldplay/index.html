

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Audio Visualizer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #1a1a1a;
            color: #fff;
        }
        svg {
            display: block;
            margin: 20px auto;
            background-color: #000;
        }
        .controls {
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>SVG Audio Visualizer</h1>
    <div class="controls">
        <label for="songSelect">Choose Song:</label>
        <select id="songSelect">
            <option value="song1">Song 1</option>
            <option value="song2">Song 2</option>
            <!-- Easily add more songs here -->
        </select>
        <br><br>
        <input type="file" id="audioFile" accept="audio/*">
        <br><br>
        <audio id="audioPlayer" controls></audio>
    </div>

    <svg id="svgVisualizer" width="400" height="400" viewBox="0 0 100 100">

           <g id="coldplay"style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 66.109214 32.132353 C 69.689836 21.147978 81.490013 15.123162 92.496456 18.685662 C 103.485261 22.248162 109.517639 34.053309 105.954655 45.055147 C 102.391672 56.056985 90.591495 62.081801 79.585052 58.519301 C 68.578608 54.974265 62.546231 43.169118 66.109214 32.167279 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 50.289062 6.660156 L 56.324219 12.753906 Z M 50.289062 6.660156 "/>
<path d="M 288.195957 22.754596 C 263.378544 45.648897 301.84818 71.30239 316.347052 51.464154 C 290.55952 60.964154 277.965609 40.444853 288.195957 22.754596 Z M 288.195957 22.754596 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 45.683795 18.703125 C 28.644974 25.880515 19.984456 48.111213 44.925338 59.567096 C 10.001047 59.375 15.627738 17.672794 45.683795 18.703125 Z M 45.683795 18.703125 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 133.788257 21.200368 C 109.129591 41.387868 143.101401 73.258272 162.115738 49.735294 C 130.384021 63.793199 126.679929 28.272978 133.788257 21.200368 Z M 133.788257 21.200368 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 182.364771 20.431985 C 220.023035 16.956801 210.798083 65.556985 181.588676 58.798713 C 190.760712 55.044118 205.171392 35.502757 182.364771 20.431985 Z M 182.364771 20.431985 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 226.708038 29.6875 C 243.041318 7.159926 281.863724 34.943934 254.277062 57.838235 C 262.761195 37.94761 246.145699 22.964154 226.708038 29.6875 Z M 226.708038 29.6875 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 333.879752 46.26011 C 346.314916 20.449449 368.063225 32.341912 373.213676 46.452206 C 374.307265 17.061581 332.592139 14.040441 333.879752 46.26011 Z M 333.879752 46.26011 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 387.130477 23.330882 C 408.667123 27.591912 410.448615 54.694853 388.276981 61.872243 C 426.71134 64.71875 414.311453 14.89614 387.130477 23.330882 Z M 387.130477 23.330882 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 411.630396 27.26011 C 412.90037 23.453125 417.098341 21.357537 421.049372 22.527574 C 425.000403 23.69761 427.240496 27.714154 426.093992 31.556066 C 424.947487 35.397978 420.820071 37.633272 416.833763 36.585478 C 412.847455 35.520221 410.466253 31.573529 411.489288 27.696691 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
</g>
        <g id="nube" style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 64.538086 25.637695 C 98.912109 -0.0439453 130.209961 4.798828 158.695312 27.404297 C 129.27832 2.460938 97.488281 2.258789 64.538086 25.637695 Z M 64.538086 25.637695 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 64.538086 26.077148 C -13.543945 13.069336 -24.354492 122.888672 64.538086 121.12207 C -20.803711 118.248047 -10.212891 18.175781 64.538086 26.077148 Z M 64.538086 26.077148 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 64.977539 120.234375 C 95.616211 149.730469 137.583984 143.384766 153.834961 123.776367 C 132.820312 139.385742 104.72168 148.623047 64.977539 120.234375 Z M 64.977539 120.234375 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 160.461914 27.852539 C 247.095703 8.824219 240.152344 137.074219 156.041016 125.542969 C 270.834961 119.232422 210.401367 1.854492 160.461914 27.852539 Z M 160.461914 27.852539 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 100.78418 75.146484 C 101.15332 82.810547 121.016602 84.858398 124.136719 73.898438 C 113.581055 81.641602 106.848633 78.319336 100.78418 75.146484 Z M 100.78418 75.146484 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 150.00293 73.125 C 150.00293 69.600586 148.992188 66.75293 147.75293 66.75293 C 146.504883 66.75293 145.50293 69.600586 145.50293 73.125 C 145.50293 76.649414 146.504883 79.49707 147.75293 79.49707 C 148.992188 79.49707 150.00293 76.649414 150.00293 73.125 Z M 150.00293 73.125 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 78.75 73.87207 C 78.75 70.356445 77.739258 67.5 76.5 67.5 C 75.260742 67.5 74.25 70.356445 74.25 73.87207 C 74.25 77.396484 75.260742 80.25293 76.5 80.25293 C 77.739258 80.25293 78.75 77.396484 78.75 73.87207 Z M 78.75 73.87207 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 129.75293 138.251953 L 117.74707 158.24707 L 133.751953 158.24707 C 141.987305 158.871094 145.59082 167.264648 139.253906 174.251953 L 102.251953 213.75 C 100.415039 216.193359 94.271484 215.586914 95.24707 209.99707 L 110.750977 179.499023 L 90.246094 180.74707 C 82.977539 181.186523 78.662109 175.614258 81.500977 168.249023 L 95.748047 138.75293 C 107.085938 141.890625 118.415039 142.426758 129.75293 138.251953 Z M 129.75293 138.251953 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
</g>
  <g id="corazon"style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 147.101089 36.369877 C 84.897372 -15.13627 13.849471 38.905738 110.071023 117.709016 C 128.427517 132.755123 132.266414 162.328893 132.051255 162.610656 C 158.244081 151.295082 183.315814 129.216189 201.230666 111.228484 C 262.120778 50.063525 221.659485 -45.318648 147.101089 36.369877 Z M 147.101089 36.369877 " transform="matrix(0.344948,0,0,0.346591,0,0)"/>
</g>
    </svg>

    <script>
        const fileInput = document.getElementById('audioFile');
        const audioPlayer = document.getElementById('audioPlayer');
        const songSelect = document.getElementById('songSelect');
        const shapes = {
            circle: document.getElementById('circle'),
            heart: document.getElementById('heart'),
            wepray: document.getElementById('wepray'),
            cross: document.getElementById('cross'),
            coldplay: document.getElementById('coldplay'),
            nube: document.getElementById('nube'),
            corazon: document.getElementById('corazon')
        };

        let audioContext, analyser, frequencyData;
        let currentShapeIndex = 0;
        let cycleInterval;

        // Configuration for each song (easily scalable)
        const songConfig = {
            song1: {
                shapeOrder: ['coldplay', 'nube', 'corazon'],
                durations: [8000, 8000, 8000]
            },
            song2: {
                shapeOrder: ['coldplay', 'nube', 'corazon'],
                durations: [8000, 10000, 8000]
            }
        };

        fileInput.addEventListener('change', handleFileUpload);
        songSelect.addEventListener('change', resetVisualizer);

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('audio/')) {
                const audioURL = URL.createObjectURL(file);
                audioPlayer.src = audioURL;
                audioPlayer.load();
                initAudio();
            } else {
                alert('Please upload a valid audio file.');
            }
        }

        function initAudio() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            analyser = audioContext.createAnalyser();
            analyser.fftSize = 256;
            frequencyData = new Uint8Array(analyser.frequencyBinCount);

            const source = audioContext.createMediaElementSource(audioPlayer);
            source.connect(analyser);
            analyser.connect(audioContext.destination);

            visualize();
            startCycleShapes();
        }

        function visualize() {
            requestAnimationFrame(visualize);
            analyser.getByteFrequencyData(frequencyData);

            const averageFrequency = frequencyData.reduce((a, b) => a + b) / frequencyData.length;
            const scale = averageFrequency / 255;

            const selectedShape = shapes[getCurrentShape()];
            const hue = Math.round((averageFrequency / 255) * 360);
            selectedShape.setAttribute('fill', `hsl(${hue}, 100%, 50%)`);
            selectedShape.setAttribute('transform', `scale(${scale + 0.5})`);
        }

        function startCycleShapes() {
            const songData = songConfig[songSelect.value];
            let totalTime = 0;

            songData.shapeOrder.forEach((shape, index) => {
                setTimeout(() => {
                    currentShapeIndex = index;
                    updateShapeVisibility();
                }, totalTime);
                totalTime += songData.durations[index];
            });

            cycleInterval = setInterval(() => {
                currentShapeIndex = (currentShapeIndex + 1) % songData.shapeOrder.length;
                updateShapeVisibility();
            }, totalTime);
        }

        function resetVisualizer() {
            clearInterval(cycleInterval);
            audioPlayer.currentTime = 0;
            audioPlayer.pause();
            updateShapeVisibility();
        }

        function getCurrentShape() {
            return songConfig[songSelect.value].shapeOrder[currentShapeIndex];
        }

        function updateShapeVisibility() {
            Object.keys(shapes).forEach(key => {
                shapes[key].style.display = key === getCurrentShape() ? 'block' : 'none';
            });
        }
    </script>
</body>
</html>
